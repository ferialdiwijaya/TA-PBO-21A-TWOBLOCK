<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guru</title>
    <link>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        body {
            background-image: url(bg-login.jpg);
            background-size: cover;
        }

        h2 {
            color: white;
            font-weight: bolder;
        }

        * {
            font-family: Arial, Helvetica, sans-serif;
            font-weight: bold;
            color: #ffff;
        }
    </style>
</head>

<body>
    <div class="container">
        <h2 class="mt-5 mb-5">Input Materi Pembelajaran</h2>
        <div class="mb-5">
            <div class="row">
                <div class="form-group col-md-6 mb-3">
                    <label for="txt_kelas">Kelas</label>
                    <input type="text" name="kelas" class="form-control" id="txt_kelas" placeholder="Input Kelas"
                        required>
                </div>
                <div class="form-group col-md-6 mb-3">
                    <label for="txt_jurusan">Jurusan</label>
                    <input type="text" name="Jurusan" class="form-control" id="txt_jurusan" placeholder="Input Jurusan"
                        required>
                </div>
                <div class="form-group col-md-6 mb-3">
                    <label for="txt_judul">Judul Materi</label>
                    <input type="text" name="judul" class="form-control" id="txt_judul" placeholder="Input Judul Materi"
                        required>
                </div>
                <div class="form-group col-md-6 mb-3">
                    <label for="txt_deskripsi">Deskripsi Materi</label>
                    <input type="text" name="deskripsi" class="form-control" id="txt_deskripsi"
                        placeholder="Input Deskripsi Materi" required>
                </div>
                <div class="form-group col-md-6 mb-3">
                    <label for="file_dokumen">File</label>
                    <input type="file" name="file" class="form-control" id="file_dokumen" required>
                </div>
                <div class="col-lg-12 mt-5">
                    <button class="btn btn-success" id="btn_tambah">Add Data</button>
                </div>

            </div>
        </div>
        <div class="row mt-5">
            <div class="col-12">
                <table class="table table-bordered" id="tbl_data">
                    <tr>
                        <th class="frame_table frame_header" style="width: 5%">Aksi</th>
                        <th class="frame_table frame_header" style="width: 10%">Kelas</th>
                        <th class="frame_table frame_header" style="width: 10%">Jurusan</th>
                        <th class="frame_table frame_header" style="width: 25%">Judul Materi</th>
                        <th class="frame_table frame_header" style="width: 40%">Deskripsi</th>
                        <th class="frame_table frame_header" style="width: 10%">File</th>
                    </tr>
                </table>
            </div>
        </div>
        <script>
            let txt_kelas = document.querySelector("#txt_kelas");
            let txt_jurusan = document.querySelector("#txt_jurusan");
            let txt_judul = document.querySelector("#txt_judul");
            let txt_deskripsi = document.querySelector("#txt_deskripsi");
            let file_dokumen = document.querySelector("#file_dokumen");
            let btn_tambah = document.querySelector("#btn_tambah");
            let tbl_data = document.querySelector("#tbl_data");

            let data = [];

            btn_tambah.addEventListener("click", () => {
                if (txt_kelas.value == "" || txt_jurusan.value == "" || txt_judul.value == "" || txt_deskripsi.value == "" || file_dokumen.value == "") {
                    alert("Lengkapi Seluruh Data !");
                }
                else {
                    data.push([txt_kelas.value, txt_jurusan.value, txt_judul.value, txt_deskripsi.value, file_dokumen.value]);

                    viewData();
                }
            });


            const viewData = () => {
                let baris_tabel = 0;
                let content_tabel =
                `<tr>
                    <th class="frame_table frame_header" style="width: 5%">Aksi</th>
                    <th class="frame_table frame_header" style="width: 10%">Kelas</th>
                    <th class="frame_table frame_header" style="width: 10%">Jurusan</th>
                    <th class="frame_table frame_header" style="width: 25%">Judul Materi</th>
                    <th class="frame_table frame_header" style="width: 40%">Deskripsi</th>
                    <th class="frame_table frame_header" style="width: 10%">File</th>
                 </tr>`;


                data.forEach((isi_data, looping_data) => {
                    content_tabel += "<tr>";

                    content_tabel += `<td class="frame_table remove_cell" onclick="removeData(${looping_data})">Hapus Data</td>`;
                    content_tabel += `<td class="frame_table" >${isi_data[0]}</td>`;
                    content_tabel += `<td class="frame_table" >${isi_data[1]}</td>`;
                    content_tabel += `<td class="frame_table" >${isi_data[2]}</td>`;
                    content_tabel += `<td class="frame_table" >${isi_data[3]}</td>`;
                    content_tabel += `<td class="frame_table" > <a href="${isi_data[4]}" download>${isi_data[4]}</a></td>`;

                    content_tabel += "</tr>";

                    baris_tabel++;
                });

                tbl_data.innerHTML = content_tabel;

                clearComponent();
            };

            const removeData = (index) => {
                if (
                    confirm(
                        `Data Mahasiswa : ${data[index][1]} (index ke-${index}) Ingin Dihapus ?`
                    ) == true
                ) {
                    data.splice(index, 1);

                    viewData();
                }
            };
        </script>
    </div>
</body>

</html>